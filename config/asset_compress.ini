; Notification Plugin Asset Compression Configuration
;
; This configuration handles asset compression for the new modular notification system.
; It combines all the new JS modules into a single optimized bundle.
;
[General]
cacheConfig = false
alwaysEnableController = false

[js]
timestamp = true
paths[] = WEBROOT/js/*
cachePath = WEBROOT/_js
;filters[] = JsMinFilter

; Alpine.js bundle (with defer)
[alpine.js]
files[] = p:Crustum/NotificationUI:js/vendor/alpine.js

; Main Notification Bundle (Alpine.js)
; Combines all modules in the correct dependency order
; Alpine.js must load first
[notifications.js]
files[] = p:Crustum/NotificationUI:js/Notification.js
files[] = p:Crustum/NotificationUI:js/NotificationAction.js
files[] = p:Crustum/NotificationUI:js/NotificationManager.js
files[] = p:Crustum/NotificationUI:js/NotificationStore.js
files[] = p:Crustum/NotificationUI:js/index.js

; Broadcasting Bundle (Pusher)
; Only loaded when broadcasting is enabled with broadcaster='pusher'
[broadcasting.js]
files[] = p:Crustum/NotificationUI:js/vendor/pusher.min.js
files[] = p:Crustum/NotificationUI:js/vendor/echo.iife.js
files[] = p:Crustum/NotificationUI:js/BroadcastingBase.js
files[] = p:Crustum/NotificationUI:js/PusherModule.js

; Mercure Broadcasting Bundle
; Only loaded when broadcasting is enabled with broadcaster='mercure'
[mercure-broadcasting.js]
files[] = p:Crustum/NotificationUI:js/vendor/echo.iife.js
files[] = p:Crustum/NotificationUI:js/vendor/echo-mercure.js
files[] = p:Crustum/NotificationUI:js/BroadcastingBase.js
files[] = p:Crustum/NotificationUI:js/MercureModule.js

[css]
paths[] = WEBROOT/css/*
cachePath = WEBROOT/_css
timestamp = true
;filters[] = CssMinFilter

; Notification Styles
[notifications.css]
files[] = p:Crustum/NotificationUI:css/notifications.css

